<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gloria+Hallelujah&family=Titan+One&display=swap"
      rel="stylesheet">
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css
     "> 
    <link rel="stylesheet" type="text/css" href="styles/main.css">
</head>
<body>
    


    <% if (locals.content ){ %>
        <% const weekday = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]; %>
        <% const month = ["January","February","March","April","May","June","July","August","September","October","November","December"]; %>
        
        <div class=  "container">
          <div class=  "row  row-cols-auto justify-content-center row-cols-sm-2 row-cols-md-6">
        <% for(let i = 1 ; i < 7 ; i++ ){ %>
              <div class="col text-center " style = "border: 1px solid white" >  
                   <!-- getDay() function -->
                    <!-- const d = new Date();
                         let day = weekday[d.getDay()]; -->
      
                         <h2 class="day text-info "   > <%=  weekday[(new Date(JSON.stringify(content[i]["day"]))).getDay()] %></h2>
                         <img src="<%= content[i]['icon'] %>.png "  alt="weather icon">
                         <%    if (content[i]["weather"].indexOf("_") >  0  ) {  %>
                         <h3 class="text-light"  >  <%= (   ((content[i]["weather"]).charAt(0).toUpperCase() +  (content[i]["weather"].slice(1, (content[i]["weather"]).indexOf("_"))) + "_"   +  ( (content[i]["weather"]).charAt((content[i]["weather"]).indexOf("_") + 1).toUpperCase() + content[i]["weather"].slice(((content[i]["weather"].slice(content[i]["weather"]).indexOf("_")) + 2 )     )   )  ) ).split("_").join(" ")   ;  %>   </h3>                        
                         <%  } else { %>
                          <h3 class="text-light" >  <%= content[i]["weather"].charAt(0).toUpperCase() + content[i]["weather"].slice(1)        %>  </h3>
                        <% } %>
                         <!-- index of first letter after "_" -->
                         <!-- (content[i]["weather"]).charAt((content[i]["weather"]).indexOf("_") + 1).toUpperCase() ; -->
                         <h4 class="day  text-info " > <%= new Date(JSON.stringify(content[i]["day"])).getDate(); %> /  <%= new Date(JSON.stringify(content[i]["day"])).getMonth() + 1  %> / <%= new Date(JSON.stringify(content[i]["day"])).getFullYear()  %>  </h4>
                
  
                  </div>
              
        <%  }  %> 
        <div class="col-md-10" style = "border: 2px solid white " > 
      
      
          <img src="<%= content[0]["icon"] %>.png"  alt="weather icon"> 
              <h2 class="text-info" > <%= new Date(JSON.stringify(content[0]["day"])).getDate();  %>  </h2>
              <h2 class="text-warning"> <%= month[(new Date(JSON.stringify(content[0]["day"]))).getMonth()] ;   %> </h2>
              <h2 class="text-info" > <%= new Date(JSON.stringify(content[0]["day"])).getFullYear(); %>   </h2>            
              <%    if (content[0]["weather"].indexOf("_") >  0  ) {  %>
                <h2  class="title text-light"  >  <%= (   ((content[0]["weather"]).charAt(0).toUpperCase() +  (content[0]["weather"].slice(1, (content[0]["weather"]).indexOf("_"))) + "_"   +  ( (content[0]["weather"]).charAt((content[0]["weather"]).indexOf("_") + 1).toUpperCase() + content[0]["weather"].slice(((content[0]["weather"].slice(content[0]["weather"]).indexOf("_")) + 2 )     )   )  ) ).split("_").join(" ")   ;  %>   </p>                        
                <%  } else { %>
                 <h2 class="title text-light" >  <%= content[0]["weather"].charAt(0).toUpperCase() + content[0]["weather"].slice(1)        %>  </p>
               <% } %>
             
             
             
              <h2 class="text-light"> <%= weather_detail %>   </h2>
            </div>
     
      </div>
      </div>
  
  
       
          <h2 class="text-lih">Search for location</h2>
  
     <form  method="post">
       <input type="text" class="form-control  mr-sm-6   form-control-lg" placeholder="Search for location" name="search_city" >
       <button type="submit"  formaction="/search-location" class="btn btn-info" > 
          S E A R C H 
      
      </button>
      </form>
       
      
  
  
  
  
      <%  }else{ %>
          <h1>This is index.ejs file</h1>
          <% } %>
  
  
  
  
          <script async src="https://cdn.jsdelivr.net/npm/es-module-shims@1/dist/es-module-shims.min.js" crossorigin="anonymous"></script>



</body>
</html>